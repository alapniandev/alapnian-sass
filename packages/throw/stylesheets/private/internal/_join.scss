////////////////////////////////////////////////////////////////////
///                                                              ///
///               ▄▀█ █░░ ▄▀█ █▀█ █▄░█ █ ▄▀█ █▄░█                ///
///               █▀█ █▄▄ █▀█ █▀▀ █░▀█ █ █▀█ █░▀█                ///
///                                                              ///
///          This file is part of alapnian sass throw.           ///
///                                                              ///
///      Copyright (c) 2025 Alapnian <support@alapnian.com>      ///
///                                                              ///
/// For the full copyright and license information, please view  ///
/// the LICENSE file that was distributed with this source code. ///
////////////////////////////////////////////////////////////////////

// Set the character encoding of the stylesheet.
@charset "UTF-8";


// Load Modules
@use "../../../helpers/list";
@use "from";
@use "utils";


/// 
/// Concatenates all of the items in a list to a string, separated by the list’s separator or a specified glue string. 
/// If the list has only one item, then that item will be returned without using the glue.
/// 
/// @param  {List}      $list               - The list to join.
/// @param  {String}    $glue [%derived%]   - The string to separate each pair of adjacent items of the list. The value is converted to a string if necessary.
/// @return {String}    - A string with all list items joined.
/// 
/// @group  alapnian-sass-throw/internal
/// @access public
/// @since  0.0.0
/// @author Alapnian Sass Dev <sassdev@alapnian.com>
/// 
/// @require    {Function}  from.join
/// @require    {Function}  utils.delimtier
/// @require    {Function}  _flat
/// 
@function join($list, $glue: utils.delimiter($list)) {
    @return from.join(_flat($list), $glue, 'list');
}

///
/// Recursively flattens a list.
///
/// @param  {List}  $list   - The list to be flattened.
/// @return {List}  - Return flattens a list.
/// 
/// @group  alapnian-sass-throw/internal
/// @access private
/// @since  0.0.0
/// @author Alapnian Sass Dev <sassdev@alapnian.com>
/// 
/// @require    {Function}  list.join
/// @require    {Function}  list.separator
/// @require    {Function}  list.length
/// @require    {Function}  list.append
///
@function _flat($list) {
    $result: list.join((), (), list.separator($list));

    @each $item in $list {

        @if (list.length($item) > 1) {
            $sub-list: _flat($item);

            @each $sub-item in $sub-list {
                $result: list.append($result, $sub-item);
            }
        } @else {
            $result: list.append($result, $item);
        }
    }

    @return $result;
}